(this.webpackJsonpcms=this.webpackJsonpcms||[]).push([[0],{43:function(e,t,a){e.exports=a(71)},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(14),r=a.n(c),o=a(80),i=a(82),u=a(12),m=a(18),s=a(19),h=a(25),d=a(23),f=a(75),v=a(76),E=a(36),p=a(83),b=a(77),g=a(15),k=a.n(g),I=function(){return k.a.get("/api/posts")},C=function(e){return k.a.post("/api/posts",e)},O=function(e){return k.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&key=AIzaSyCIglnekiUoDx7Q2-RDWK-O0Il2B2ehAQY"))},j=a(78);var B=function(e){return l.a.createElement("div",null,l.a.createElement(j.a.Control,{size:"sm",type:"text",placeholder:"Search for a book",onChange:e.handleInputChange,value:e.value,name:"search",className:"form-control",id:"search"}),l.a.createElement("br",null),l.a.createElement("button",{onClick:e.handleFormSubmit},"Search"))},F=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(m.a)(this,a),(n=t.call(this,e)).searchForBook=function(e){O(e).then((function(e){for(var t=[],a=0;a<e.data.items.length;a++)t.push({id:[a],name:e.data.items[a].volumeInfo.title,pic:e.data.items[a].volumeInfo.imageLinks.smallThumbnail,descript:e.data.items[a].volumeInfo.description,id:e.data.items[a].id});n.setState(Object(u.a)(Object(u.a)({},n.state),{},{bookRes:t}))})).catch((function(e){return console.log(e)}))},n.favBook=function(e){C(e).then((function(e){var t={id:e.data.items[0].id,descript:e.data.items[0].volumeInfo.description,pic:e.data.items[0].volumeInfo.imageLinks.smallThumbnail,name:e.data.items[0].volumeInfo.title};console.log(t)})).catch((function(e){return console.log(e)}))},n.postFav=function(e){console.log(e.target.id),O(e.target.id).then((function(e){console.log(e),C({title:e.data.items[0].volumeInfo.title,descript:e.data.items[0].volumeInfo.description,pic:e.data.items[0].volumeInfo.imageLinks.smallThumbnail,id:e.data.items[0].id}).then((function(e){})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},n.handleInputChange=function(e){var t=e.target.value;n.setState(Object(u.a)(Object(u.a)({},n.state),{},{search:t}))},n.handleButtonClick=function(e){e.preventDefault(),n.searchForBook()},n.handleFormSubmit=function(e){n.searchForBook(n.state.search)},n.state={search:"",bookRes:[]};return n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h1",null,"Search books"),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(E.a,null,l.a.createElement(B,{value:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:function(t){return e.handleFormSubmit(t)}})))),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(E.a,null,l.a.createElement(p.a,null,this.state.bookRes.map((function(t){return l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(p.a,null,l.a.createElement(p.a.Img,{style:{width:"8rem",height:"8rem"},src:t.pic}),l.a.createElement(p.a.Title,null,t.name),l.a.createElement(p.a.Body,null,t.descript),l.a.createElement(b.a,{id:t.id,onClick:function(t){return e.postFav(t)},variant:"primary"},"Fav")))),l.a.createElement("br",null))})))))))}}]),a}(n.Component),S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getFav=function(){I().then((function(e){console.log(e.data),n.setState(Object(u.a)(Object(u.a)({},n.state),{},{bookRes:e.data}))})).catch((function(e){return console.log(e)}))},n.handleButtonClick=function(e){e.preventDefault(),n.getFav()},n.state={search:"",bookRes:[]},n}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(b.a,{onClick:this.handleButtonClick},"find favs"),l.a.createElement(f.a,null,l.a.createElement(v.a,null,l.a.createElement(E.a,null,l.a.createElement(p.a,null,this.state.bookRes.map((function(e){return l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(p.a,null,l.a.createElement(p.a.Img,{style:{width:"8rem",height:"8rem"},src:e.pic}),l.a.createElement(p.a.Title,null,e.name),l.a.createElement(p.a.Body,null,e.descript)))),l.a.createElement("br",null))})))))))}}]),a}(n.Component),y=a(79),w=a(81);var R=function(){return l.a.createElement("div",null,l.a.createElement(y.a,{bg:"light",variant:"light"},l.a.createElement(y.a.Brand,{href:"/"},"Book Search"),l.a.createElement(w.a,{className:"mr-auto"},l.a.createElement(w.a.Link,{href:"/fav"},"Favorite"),l.a.createElement(w.a.Link,{href:"/"},"Search"))))};var x=function(){return l.a.createElement(o.a,null,l.a.createElement("div",null,l.a.createElement(R,null),l.a.createElement(i.a,{exact:!0,path:"/",component:F}),l.a.createElement(i.a,{exact:!0,path:"/fav",component:S})))};a(70);r.a.render(l.a.createElement(x,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.b691fb35.chunk.js.map