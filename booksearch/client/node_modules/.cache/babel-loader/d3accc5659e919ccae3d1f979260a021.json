{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\imart\\\\OneDrive\\\\Documents\\\\Homework\\\\bookSearch\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\imart\\\\OneDrive\\\\Documents\\\\Homework\\\\bookSearch\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\imart\\\\OneDrive\\\\Documents\\\\Homework\\\\bookSearch\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\imart\\\\OneDrive\\\\Documents\\\\Homework\\\\bookSearch\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\imart\\\\OneDrive\\\\Documents\\\\Homework\\\\bookSearch\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,useRef}from\"react\";// import TextInput from \"../../components/searchInput/searchInput\"\n// import SearchButton from \"../../components/button/button\"\nimport{Row,Col,Container,Card,Button}from\"react-bootstrap\";import API from\"../../utils/API\";import TextInput from\"../../components/searchInput/searchInput\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(props){var _this;_classCallCheck(this,Search);_this=_super.call(this,props);_this.searchForBook=function(book){API.getBook(book).then(function(res){var bookres=[];for(var i=0;i<res.data.items.length;i++){bookres.push({id:[i],name:res.data.items[i].volumeInfo.title,pic:res.data.items[i].volumeInfo.imageLinks.smallThumbnail,descript:res.data.items[i].volumeInfo.description,id:res.data.items[i].id});}_this.setState(_objectSpread(_objectSpread({},_this.state),{},{bookRes:bookres}));// console.log(this.state.bookRes)        \n}).catch(function(err){return console.log(err);});};_this.favBook=function(book){API.saveBook(book).then(function(res){var bookFav={id:res.data.items[0].id,descript:res.data.items[0].volumeInfo.description,pic:res.data.items[0].volumeInfo.imageLinks.smallThumbnail,name:res.data.items[0].volumeInfo.title};console.log(bookFav);}).catch(function(err){return console.log(err);});};_this.postFav=function(event){console.log(event.target.id);API.getBook(event.target.id).then(function(res){console.log(res);API.saveBook({title:res.data.items[0].volumeInfo.title,descript:res.data.items[0].volumeInfo.description,pic:res.data.items[0].volumeInfo.imageLinks.smallThumbnail,id:res.data.items[0].id}).then(function(res){}).catch(function(err){return console.log(err);});}).catch(function(err){return console.log(err);});};_this.handleInputChange=function(event){var value=event.target.value;_this.setState(_objectSpread(_objectSpread({},_this.state),{},{search:value}));};_this.handleButtonClick=function(event){event.preventDefault();_this.searchForBook();};_this.handleFormSubmit=function(event){// console.log(\"poop\")\n_this.searchForBook(_this.state.search);};_this.state={search:\"\",bookRes:[]};var bookFavs=[];return _this;}_createClass(Search,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Search books\"),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(TextInput,{value:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:function handleFormSubmit(event){return _this2.handleFormSubmit(event);}})))),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,null,this.state.bookRes.map(function(book){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Img,{style:{width:'8rem',height:'8rem'},src:book.pic}),/*#__PURE__*/React.createElement(Card.Title,null,book.name),/*#__PURE__*/React.createElement(Card.Body,null,book.descript),/*#__PURE__*/React.createElement(Button,{id:book.id,onClick:function onClick(event){return _this2.postFav(event);},variant:\"primary\"},\"Fav\")))),/*#__PURE__*/React.createElement(\"br\",null));}))))));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["C:/Users/imart/OneDrive/Documents/Homework/bookSearch/booksearch/client/src/pages/search/index.js"],"names":["React","Component","useRef","Row","Col","Container","Card","Button","API","TextInput","Search","props","searchForBook","book","getBook","then","res","bookres","i","data","items","length","push","id","name","volumeInfo","title","pic","imageLinks","smallThumbnail","descript","description","setState","state","bookRes","catch","err","console","log","favBook","saveBook","bookFav","postFav","event","target","handleInputChange","value","search","handleButtonClick","preventDefault","handleFormSubmit","bookFavs","map","width","height"],"mappings":"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","sourcesContent":["import React, { Component, useRef } from \"react\";\r\n// import TextInput from \"../../components/searchInput/searchInput\"\r\n// import SearchButton from \"../../components/button/button\"\r\n\r\nimport { Row, Col, Container, Card, Button } from \"react-bootstrap\";\r\nimport API from \"../../utils/API\"\r\nimport TextInput from \"../../components/searchInput/searchInput\"\r\n\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      search: \"\",\r\n      bookRes: []\r\n    };\r\n    var bookFavs = []\r\n  }\r\n    searchForBook = (book) => {\r\n      API.getBook(book).then((res) => {     \r\n        var bookres=[];\r\n        for (var i = 0; i < res.data.items.length; i++) {\r\n          bookres.push({id: [i], name: res.data.items[i].volumeInfo.title, pic: res.data.items[i].volumeInfo.imageLinks.smallThumbnail, descript: res.data.items[i].volumeInfo.description, id: res.data.items[i].id})         \r\n        }               \r\n        this.setState({...this.state, bookRes: bookres})\r\n        // console.log(this.state.bookRes)        \r\n      })\r\n      .catch((err) => console.log(err)) \r\n    }\r\n      //=========================================================================\r\n    //TODO\r\n    favBook = (book) => {\r\n      API.saveBook(book).then((res) => {\r\n        var bookFav = {\r\n          id: res.data.items[0].id,\r\n          descript: res.data.items[0].volumeInfo.description,\r\n          pic: res.data.items[0].volumeInfo.imageLinks.smallThumbnail,\r\n          name: res.data.items[0].volumeInfo.title\r\n        }\r\n        console.log(bookFav)        \r\n      })\r\n      .catch((err) => console.log(err))     \r\n    }\r\n    postFav = (event) => {      \r\n      console.log(event.target.id)\r\n      API.getBook(event.target.id).then((res) => {\r\nconsole.log(res)\r\nAPI.saveBook({\r\n  title: res.data.items[0].volumeInfo.title,\r\n  descript: res.data.items[0].volumeInfo.description,\r\n  pic: res.data.items[0].volumeInfo.imageLinks.smallThumbnail,\r\n  id: res.data.items[0].id\r\n}).then((res) => {\r\n})\r\n.catch((err) => console.log(err))\r\n      })\r\n      .catch((err) => console.log(err))     \r\n    }\r\n    //==================================================================================\r\n    handleInputChange = (event) => {\r\n      \r\n      const value = event.target.value;     \r\n      this.setState({\r\n        ...this.state,\r\n        search: value\r\n      });      \r\n    };\r\n    handleButtonClick = (event) => {\r\n      event.preventDefault();\r\n      this.searchForBook();\r\n    };\r\n    handleFormSubmit = (event) => {\r\n      // console.log(\"poop\")\r\n      this.searchForBook(this.state.search)\r\n    }\r\nrender () {\r\n    return (\r\n      <div>\r\n        <h1>Search books</h1>\r\n      <Container>\r\n<Row>\r\n<Col>\r\n<TextInput\r\n    value={this.state.search}\r\n    handleInputChange={this.handleInputChange}\r\n    handleFormSubmit={(event) => this.handleFormSubmit(event)} \r\n    />    \r\n</Col>\r\n</Row>\r\n</Container>  \r\n<Container>\r\n<Row>\r\n<Col>\r\n<Card>\r\n{this.state.bookRes.map((book) => {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        <li>\r\n          <Card>\r\n          <Card.Img style={{ width: '8rem', height: '8rem' }}     \r\n     src={book.pic} /> \r\n    <Card.Title>{book.name}</Card.Title>      \r\n   <Card.Body>{book.descript}</Card.Body>\r\n   <Button \r\n   id={book.id}\r\n   onClick={(event) => this.postFav(event)}\r\n   variant=\"primary\">Fav</Button>\r\n          </Card>        \r\n        </li>      \r\n      </ul>\r\n      <br />\r\n    </div>    \r\n  )\r\n})}\r\n</Card>\r\n</Col>\r\n</Row>\r\n</Container>      \r\n</div>     \r\n    )\r\n  }\r\n}\r\nexport default Search;\r\n\r\n"]},"metadata":{},"sourceType":"module"}